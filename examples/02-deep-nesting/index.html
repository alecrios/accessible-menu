<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../_assets/css/reset.css">
	<link rel="stylesheet" href="../_assets/css/colors.css">
	<link rel="stylesheet" href="./index.css">
	<title>Accessible Menu - Deep Nesting</title>
</head>
<body>
	<div class="menu">
		<div class="item has-menu">
			<button class="button">Lorem Ipsum</button>

			<div class="menu">
				<div class="item">
					<a class="button" href="#">In Tempus</a>
				</div>

				<div class="item">
					<a class="button" href="#">Convallis Nibh</a>
				</div>

				<div class="item">
					<a class="button" href="#">Nulla Etiam</a>
				</div>

				<div class="item has-menu">
					<button class="button">Lectus Quis</button>

					<div class="menu">
						<div class="item">
							<a class="button" href="#">Convallis Nibh</a>
						</div>

						<div class="item">
							<a class="button" href="#">Convallis Nibh</a>
						</div>

						<div class="item">
							<a class="button" href="#">In Tempus</a>
						</div>
					</div>
				</div>

				<div class="item">
					<a class="button" href="#">Consequat Ipsum</a>
				</div>
			</div>
		</div>

		<div class="item has-menu">
			<button class="button">Integer Eleifend</button>

			<div class="menu">
				<div class="item">
					<a class="button" href="#">Aliquam Euismod</a>
				</div>

				<div class="item">
					<a class="button" href="#">Blandit Enim</a>
				</div>

				<div class="item">
					<a class="button" href="#">Eros Mauris</a>
				</div>

				<div class="item has-menu">
					<button class="button">Lectus Quis</button>

					<div class="menu">
						<div class="item">
							<a class="button" href="#">Nulla Etiam</a>
						</div>

						<div class="item">
							<a class="button" href="#">Convallis Nibh</a>
						</div>

						<div class="item">
							<a class="button" href="#">Consequat Ipsum</a>
						</div>

						<div class="item has-menu">
							<button class="button">Amet Lobortis</button>

							<div class="menu">
								<div class="item">
									<a class="button" href="#">In Tempus</a>
								</div>

								<div class="item">
									<a class="button" href="#">Consequat Ipsum</a>
								</div>

								<div class="item">
									<a class="button" href="#">Amet Lobortis</a>
								</div>
							</div>
						</div>

						<div class="item">
							<a class="button" href="#">In Tempus</a>
						</div>
					</div>
				</div>

				<div class="item has-menu">
					<button class="button">Eget Leo</button>

					<div class="menu">
						<div class="item">
							<a class="button" href="#">Amet Lobortis</a>
						</div>

						<div class="item">
							<a class="button" href="#">Nulla Etiam</a>
						</div>

						<div class="item has-menu">
							<button class="button">Lectus Quis</button>

							<div class="menu">
								<div class="item">
									<a class="button" href="#">Nulla Etiam</a>
								</div>

								<div class="item">
									<a class="button" href="#">Convallis Nibh</a>
								</div>

								<div class="item">
									<a class="button" href="#">Consequat Ipsum</a>
								</div>

								<div class="item has-menu">
									<button class="button">Amet Lobortis</button>

									<div class="menu">
										<div class="item">
											<a class="button" href="#">In Tempus</a>
										</div>

										<div class="item">
											<a class="button" href="#">Consequat Ipsum</a>
										</div>

										<div class="item">
											<a class="button" href="#">Amet Lobortis</a>
										</div>
									</div>
								</div>

								<div class="item">
									<a class="button" href="#">In Tempus</a>
								</div>
							</div>
						</div>

						<div class="item">
							<a class="button" href="#">Convallis Nibh</a>
						</div>

						<div class="item">
							<a class="button" href="#">In Tempus</a>
						</div>

						<div class="item">
							<a class="button" href="#">Consequat Ipsum</a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="item has-menu">
			<button class="button">Dolor Sit</button>

			<div class="menu">
				<div class="item">
					<a class="button" href="#">Bibendum Id</a>
				</div>

				<div class="item">
					<a class="button" href="#">Amet Consectetur</a>
				</div>

				<div class="item has-menu">
					<button class="button">Eget Leo</button>

					<div class="menu">
						<div class="item">
							<a class="button" href="#">Amet Lobortis</a>
						</div>

						<div class="item">
							<a class="button" href="#">Nulla Etiam</a>
						</div>

						<div class="item has-menu">
							<button class="button">Lectus Quis</button>

							<div class="menu">
								<div class="item">
									<a class="button" href="#">Nulla Etiam</a>
								</div>

								<div class="item">
									<a class="button" href="#">Convallis Nibh</a>
								</div>

								<div class="item">
									<a class="button" href="#">Consequat Ipsum</a>
								</div>

								<div class="item has-menu">
									<button class="button">Amet Lobortis</button>

									<div class="menu">
										<div class="item">
											<a class="button" href="#">In Tempus</a>
										</div>

										<div class="item">
											<a class="button" href="#">Consequat Ipsum</a>
										</div>

										<div class="item">
											<a class="button" href="#">Amet Lobortis</a>
										</div>
									</div>
								</div>

								<div class="item">
									<a class="button" href="#">In Tempus</a>
								</div>
							</div>
						</div>

						<div class="item">
							<a class="button" href="#">Convallis Nibh</a>
						</div>

						<div class="item">
							<a class="button" href="#">In Tempus</a>
						</div>

						<div class="item">
							<a class="button" href="#">Consequat Ipsum</a>
						</div>
					</div>
				</div>

				<div class="item">
					<a class="button" href="#">Adipiscing Elit</a>
				</div>
			</div>
		</div>

		<div class="item has-menu">
			<button class="button">Praesent Blandit</button>

			<div class="menu">
				<div class="item">
					<a class="button" href="#">Amet Lobortis</a>
				</div>

				<div class="item">
					<a class="button" href="#">Nulla Etiam</a>
				</div>

				<div class="item">
					<a class="button" href="#">Convallis Nibh</a>
				</div>

				<div class="item">
					<a class="button" href="#">In Tempus</a>
				</div>

				<div class="item has-menu">
					<button class="button">Consequat Ipsum</button>

					<div class="menu">
						<div class="item">
							<a class="button" href="#">Nulla Etiam</a>
						</div>

						<div class="item">
							<a class="button" href="#">In Tempus</a>
						</div>

						<div class="item">
							<a class="button" href="#">Convallis Nibh</a>
						</div>

						<div class="item">
							<a class="button" href="#">Consequat Ipsum</a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="item has-menu">
			<button class="button">In Tempus</button>

			<div class="menu">
				<div class="item">
					<a class="button" href="#">Convallis Nibh</a>
				</div>

				<div class="item">
					<a class="button" href="#">Nulla Etiam</a>
				</div>
			</div>
		</div>
	</div>

	<script src="../_assets/js/focus-visible.js"></script>
	<script src="../../dist/menu.js"></script>
	<script>
		const menu = document.querySelector('.menu');

		function open(menu, callback) {
			menu.style.display = 'block';
			const height = menu.offsetHeight;
			menu.style.display = 'none';

			menu.style.height = '0';
			menu.style.transition = 'height 500ms ease';
			menu.style.overflow = 'hidden';

			menu.addEventListener('transitionend', () => {
				menu.style.transition = 'none';
				menu.style.overflow = 'auto';
				callback();
			}, {once: true});

			requestAnimationFrame(() => {
				requestAnimationFrame(() => {
					menu.style.display = 'block';
					menu.style.height = `${height}px`;
				});
			});
		}

		function close(menu, callback) {
			menu.style.transition = 'height 500ms ease';
			menu.style.overflow = 'hidden';

			menu.addEventListener('transitionend', () => {
				menu.style.display = 'none';
				menu.style.transition = 'none';
				menu.style.overflow = 'auto';
				callback();
			}, {once: true});

			requestAnimationFrame(() => {
				requestAnimationFrame(() => {
					menu.style.height = '0';
				});
			});
		}

		new Menu(menu, null, {
			transitions: [{
				open,
				close,
				applyToChildren: true,
			}],
		});
	</script>
</body>
</html>
